{{!< default}}

{{#post}}

<header class="gh-post-header gh-canvas">
    <h1 class="gh-post-title">{{title}}</h1>
    <div class="gh-post-meta">
        {{#if @custom.show_author}}
            <a href="{{primary_author.url}}">{{primary_author.name}}</a> &mdash;
        {{/if}}
        <time datetime="{{date format="YYYY-MM-DD"}}">{{date format="Mo MMMM, YYYY"}}</time>
    </div>
    {{#if feature_image}}
    <img class="gh-feature-image {{#match @custom.post_image_width "Full"}}image-full{{else match @custom.post_image_width "=" "Small"}}image-small{{/match}}"
        srcset="{{img_url feature_image size="s"}} 300w,
                {{img_url feature_image size="m"}} 600w,
                {{img_url feature_image size="l"}} 1000w,
                {{img_url feature_image size="xl"}} 2000w"
        sizes="(min-width: 2000px) 2000px"
        src="{{img_url feature_image size="xl"}}"
        alt="{{title}}"
    />
    {{/if}}
</header>

<section class="gh-content gh-canvas">
    {{content}}
</section>

{{/post}}

<script>
    (function (window, document) {
        var resizeImagesInGalleries = function resizeImagesInGalleries() {
            var images = document.querySelectorAll('.kg-gallery-image img');
            images.forEach(function (image) {
                var container = image.closest('.kg-gallery-image');
                var width = image.attributes.width.value;
                var height = image.attributes.height.value;
                var ratio = width / height;
                container.style.flex = ratio + ' 1 0%';
            });
        };

        document.addEventListener('DOMContentLoaded', resizeImagesInGalleries);
    })(window, document);
</script>