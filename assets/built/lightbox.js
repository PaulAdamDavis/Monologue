const lightbox=e=>{const t=e=>({src:e.getAttribute("src"),msrc:e.getAttribute("src"),w:e.getAttribute("width"),h:e.getAttribute("height"),el:e});document.querySelectorAll(e).forEach((e=>{e.addEventListener("click",(e=>{(e=>{e.preventDefault();let l=[],i=0,c=e.target.closest(".kg-card").previousElementSibling;for(;c&&(c.classList.contains("kg-image-card")||c.classList.contains("kg-gallery-card"));){let e=[];c.querySelectorAll("img").forEach((l=>{e.push(t(l)),i+=1})),c=c.previousElementSibling,l=e.concat(l)}if(e.target.classList.contains("kg-image"))l.push(t(e.target));else{let c=!1;e.target.closest(".kg-gallery-card").querySelectorAll("img").forEach((r=>{l.push(t(r)),c||r===e.target?c=!0:i+=1}))}let r=e.target.closest(".kg-card").nextElementSibling;for(;r&&(r.classList.contains("kg-image-card")||r.classList.contains("kg-gallery-card"));)r.querySelectorAll("img").forEach((e=>{l.push(t(e))})),r=r.nextElementSibling;const o=document.querySelectorAll(".pswp")[0],s={bgOpacity:.9,closeOnScroll:!0,fullscreenEl:!1,history:!1,index:i,shareEl:!1,zoomEl:!1,getThumbBoundsFn:function(e){const t=l[e].el,i=window.pageYOffset||document.documentElement.scrollTop,c=t.getBoundingClientRect();return{x:c.left,y:c.top+i,w:c.width}}};new PhotoSwipe(o,PhotoSwipeUI_Default,l,s).init()})(e)}))}))};!function(){const e=".kg-image-card > .kg-image[width][height], .kg-gallery-image > img";lightbox(e),document.querySelectorAll(e).forEach((e=>{e.classList.add("will-open-in-lightbox")}))}();
//# sourceMappingURL=lightbox.js.map